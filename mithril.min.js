new function(){function u(a,c,f,d,g,k){return{tag:a,key:c,attrs:f,children:d,text:g,dom:k,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1}}function A(a){if(null==a||"string"!==typeof a&&null==a.view)throw Error("The selector must be either a string or a component.");if("string"===typeof a&&void 0===M[a]){for(var c,f,d=[],g={};c=Y.exec(a);){var k=c[1],h=c[2];""===k&&""!==h?f=h:"#"===k?g.id=h:"."===k?d.push(h):"["===c[3][0]&&((k=c[6])&&(k=k.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),
"class"===c[4]?d.push(k):g[c[4]]=k||!0)}0<d.length&&(g.className=d.join(" "));M[a]=function(a,c){var d=!1,b,k,q=a.className||a["class"],w;for(w in g)a[w]=g[w];void 0!==q&&(void 0!==a["class"]&&(a["class"]=void 0,a.className=q),void 0!==g.className&&(a.className=g.className+" "+q));for(w in a)if("key"!==w){d=!0;break}c instanceof Array&&1==c.length&&null!=c[0]&&"#"===c[0].tag?k=c[0].children:b=c;return u(f||"div",a.key,d?a:void 0,b,k,void 0)}}var m;null!=arguments[1]&&("object"!==typeof arguments[1]||
void 0!==arguments[1].tag||arguments[1]instanceof Array)?d=1:(m=arguments[1],d=2);if(arguments.length===d+1)c=arguments[d]instanceof Array?arguments[d]:[arguments[d]];else for(c=[];d<arguments.length;d++)c.push(arguments[d]);return"string"===typeof a?M[a](m||{},u.normalizeChildren(c)):u(a,m&&m.key,m||{},u.normalizeChildren(c),void 0,void 0)}function Z(a){var c=0,f=null,d="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var g=Date.now();0===c||16<=g-c?(c=
g,a()):null===f&&(f=d(function(){f=null;a();c=Date.now()},16-(g-c)))}}function C(){function a(){0<arguments.length&&arguments[0]!==E&&P(a,arguments[0]);return a._state.value}aa(a);0<arguments.length&&arguments[0]!==E&&P(a,arguments[0]);return a}function aa(a){a.constructor=C;a._state={id:ba++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0};a.map=a["fantasy-land/map"]=ca;a["fantasy-land/ap"]=da;a["fantasy-land/of"]=C;a.valueOf=Q;a.toJSON=ea;a.toString=Q;Object.defineProperties(a,
{end:{get:function(){if(!a._state.endStream){var c=C();c.map(function(f){!0===f&&(R(a),R(c));return f});a._state.endStream=c}return a._state.endStream}}})}function P(a,c){S(a,c);for(var f in a._state.deps)T(a._state.deps[f],!1);a._state.changed=!1;for(var d in a._state.deps)a._state.deps[d]._state.changed=!1}function S(a,c){a._state.value=c;a._state.changed=!0;2!==a._state.state&&(a._state.state=1)}function T(a,c){var f=a._state.parents;if(0<f.length&&f.every(fa)&&(c||f.some(U))){f=a._state.derive();
if(f===E)return!1;S(a,f)}}function H(a,c){if(!c.every(ga))throw Error("Ensure that each item passed to m.prop.combine/m.prop.merge is a stream");return ha(C(),c,function(){return a.apply(this,c.concat([c.filter(U)]))})}function ha(a,c,f){var d=a._state;d.derive=f;d.parents=c.filter(ia);V(a,d.parents);T(a,!0);return a}function V(a,c){for(var f=0;f<c.length;f++)c[f]._state.deps[a._state.id]=a,V(a,c[f]._state.parents)}function R(a){for(var c=0;c<a._state.parents.length;c++)delete a._state.parents[c]._state.deps[a._state.id];
for(var f in a._state.deps){var c=a._state.deps[f],d=c._state.parents.indexOf(a);-1<d&&c._state.parents.splice(d,1)}a._state.state=2;a._state.deps={}}function ca(a){return H(function(c){return a(c())},[this])}function da(a){return H(function(a,f){return a()(f())},[a,this])}function Q(){return this._state.value}function ea(){return null!=this._state.value&&"function"===typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function ga(a){return a._state}function fa(a){return 1===
a._state.state}function U(a){return a._state.changed}function ia(a){return 2!==a._state.state}u.normalize=function(a){return a instanceof Array?u("[",void 0,void 0,u.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?u("#",void 0,void 0,a,void 0,void 0):a};u.normalizeChildren=function(a){for(var c=0;c<a.length;c++)a[c]=u.normalize(a[c]);return a};var Y=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,M={};A.trust=function(a){null==a&&(a="");return u("<",
void 0,void 0,a,void 0,void 0)};A.fragment=function(a,c){return u("[",a.key,a,u.normalizeChildren(c),void 0,void 0)};var z=function(a){function c(a,b){return function r(c){var h;try{if(!b||null==c||"object"!==typeof c&&"function"!==typeof c||"function"!==typeof(h=c.then))l(function(){b||0!==a.length||console.error("Possible unhandled promise rejection:",c);for(var f=0;f<a.length;f++)a[f](c);g.length=0;k.length=0;q.state=b;q.retry=function(){r(c)}});else{if(c===d)throw new TypeError("Promise can't be resolved w/ itself");
f(h.bind(c))}}catch(ja){m(ja)}}}function f(a){function b(a){return function(b){0<c++||a(b)}}var c=0,f=b(m);try{a(b(h),f)}catch(w){f(w)}}if(!(this instanceof z))throw Error("Promise must be called with `new`");if("function"!==typeof a)throw new TypeError("executor must be a function");var d=this,g=[],k=[],h=c(g,!0),m=c(k,!1),q=d._instance={resolvers:g,rejectors:k},l="function"===typeof setImmediate?setImmediate:setTimeout;f(a)};z.prototype.then=function(a,c){function f(a,c,f,h){c.push(function(b){if("function"!==
typeof a)f(b);else try{g(a(b))}catch(D){k&&k(D)}});"function"===typeof d.retry&&h===d.state&&d.retry()}var d=this._instance,g,k,h=new z(function(a,c){g=a;k=c});f(a,d.resolvers,g,!0);f(c,d.rejectors,k,!1);return h};z.prototype["catch"]=function(a){return this.then(null,a)};z.resolve=function(a){return a instanceof z?a:new z(function(c){c(a)})};z.reject=function(a){return new z(function(c,f){f(a)})};z.all=function(a){return new z(function(c,f){var d=a.length,g=0,k=[];if(0===a.length)c([]);else for(var h=
0;h<a.length;h++)(function(h){function q(a){g++;k[h]=a;g===d&&c(k)}null==a[h]||"object"!==typeof a[h]&&"function"!==typeof a[h]||"function"!==typeof a[h].then?q(a[h]):a[h].then(q,f)})(h)})};z.race=function(a){return new z(function(c,f){for(var d=0;d<a.length;d++)a[d].then(c,f)})};"undefined"===typeof I&&("undefined"!==typeof window?window.Promise=z:"undefined"!==typeof global&&(global.Promise=z));var J="undefined"!==typeof I?I:z,K=function(a){function c(a,d){if(d instanceof Array)for(var g=0;g<d.length;g++)c(a+
"["+g+"]",d[g]);else if("[object Object]"===Object.prototype.toString.call(d))for(g in d)c(a+"["+g+"]",d[g]);else f.push(encodeURIComponent(a)+(null!=d&&""!==d?"="+encodeURIComponent(d):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";var f=[],d;for(d in a)c(d,a[d]);return f.join("&")},N=function(a,c){function f(){function a(){0===--c&&"function"===typeof t&&t()}var c=0;return function w(b){var f=b.then;b.then=function(){c++;var d=f.apply(b,arguments);d.then(a,function(b){a();
if(0===c)throw b;});return w(d)};return b}}function d(a,c){if("string"===typeof a){var b=a;a=c||{};null==a.url&&(a.url=b)}return a}function g(a,c){if(null==c)return a;for(var b=a.match(/:[^\/]+/gi)||[],f=0;f<b.length;f++){var d=b[f].slice(1);null!=c[d]&&(a=a.replace(b[f],c[d]),delete c[d])}return a}function k(a,c){var b=K(c);if(""!==b){var f=0>a.indexOf("?")?"?":"&";a+=f+b}return a}function h(a){try{return""!==a?JSON.parse(a):null}catch(D){throw Error(a);}}function m(a){return a.responseText}function q(a,
c){if("function"===typeof a)if(c instanceof Array)for(var b=0;b<c.length;b++)c[b]=new a(c[b]);else return new a(c);return c}var l=0,t;return{request:function(b,l){var t=f();b=d(b,l);var w=new c(function(c,f){null==b.method&&(b.method="GET");b.method=b.method.toUpperCase();var d="boolean"===typeof b.useBody?b.useBody:"GET"!==b.method&&"TRACE"!==b.method;"function"!==typeof b.serialize&&(b.serialize="undefined"!==typeof FormData&&b.data instanceof FormData?function(a){return a}:JSON.stringify);"function"!==
typeof b.deserialize&&(b.deserialize=h);"function"!==typeof b.extract&&(b.extract=m);b.url=g(b.url,b.data);d?b.data=b.serialize(b.data):b.url=k(b.url,b.data);var l=new a.XMLHttpRequest;l.open(b.method,b.url,"boolean"===typeof b.async?b.async:!0,"string"===typeof b.user?b.user:void 0,"string"===typeof b.password?b.password:void 0);b.serialize===JSON.stringify&&d&&l.setRequestHeader("Content-Type","application/json; charset=utf-8");b.deserialize===h&&l.setRequestHeader("Accept","application/json, text/*");
b.withCredentials&&(l.withCredentials=b.withCredentials);"function"===typeof b.config&&(l=b.config(l,b)||l);l.onreadystatechange=function(){if(4===l.readyState)try{var a=b.extract!==m?b.extract(l,b):b.deserialize(b.extract(l,b));if(200<=l.status&&300>l.status||304===l.status)c(q(b.type,a));else{var d=Error(l.responseText),g;for(g in a)d[g]=a[g];f(d)}}catch(F){f(F)}};d&&null!=b.data?l.send(b.data):l.send()});return!0===b.background?w:t(w)},jsonp:function(b,h){var m=f();b=d(b,h);var t=new c(function(c,
f){var d=b.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+l++,h=a.document.createElement("script");a[d]=function(f){h.parentNode.removeChild(h);c(q(b.type,f));delete a[d]};h.onerror=function(){h.parentNode.removeChild(h);f(Error("JSONP request failed"));delete a[d]};null==b.data&&(b.data={});b.url=g(b.url,b.data);b.data[b.callbackKey||"callback"]=d;h.src=k(b.url,b.data);a.document.documentElement.appendChild(h)});return!0===b.background?t:m(t)},setCompletionCallback:function(a){t=a}}}(window,
J),X=function(a){function c(a,e,n,c,b,d,g){for(;n<c;n++){var p=e[n];null!=p&&q(a,f(p,b,g),d)}}function f(a,e,n){var p=a.tag;null!=a.attrs&&z(a.attrs,a,e);if("string"===typeof p)switch(p){case "#":return a.dom=y.createTextNode(a.children);case "<":return d(a);case "[":var b=y.createDocumentFragment();null!=a.children&&(p=a.children,c(b,p,0,p.length,e,null,n));a.dom=b.firstChild;a.domSize=b.childNodes.length;return b;default:var g=a.tag;switch(a.tag){case "svg":n="http://www.w3.org/2000/svg";break;
case "math":n="http://www.w3.org/1998/Math/MathML"}var q=(p=a.attrs)&&p.is,g=n?q?y.createElementNS(n,g,{is:q}):y.createElementNS(n,g):q?y.createElement(g,{is:q}):y.createElement(g);a.dom=g;if(null!=p)for(b in q=n,p)w(a,b,null,p[b],q);null!=a.attrs&&null!=a.attrs.contenteditable?l(a):(null!=a.text&&(""!==a.text?g.textContent=a.text:a.children=[u("#",void 0,void 0,a.text,void 0,void 0)]),null!=a.children&&(b=a.children,c(g,b,0,b.length,e,null,n),e=a.attrs,"select"===a.tag&&null!=e&&("value"in e&&w(a,
"value",null,e.value,void 0),"selectedIndex"in e&&w(a,"selectedIndex",null,e.selectedIndex,void 0))));return g}else{a.state||(a.state={});ka(a.state,a.tag);b=a.tag.view;if(null!=b.reentrantLock)a=E;else if(b.reentrantLock=!0,z(a.tag,a,e),a.instance=u.normalize(b.call(a.state,a)),b.reentrantLock=null,null!=a.instance){if(a.instance===a)throw Error("A view cannot return the vnode it received as arguments");e=f(a.instance,e,n);a.dom=a.instance.dom;a.domSize=null!=a.dom?a.instance.domSize:0;a=e}else a.domSize=
0,a=E;return a}}function d(a){var e={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(a.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",e=y.createElement(e);e.innerHTML=a.children;a.dom=e.firstChild;a.domSize=e.childNodes.length;a=y.createDocumentFragment();for(var p;p=e.firstChild;)a.appendChild(p);return a}function g(a,e,b,d,g,l){if(e!==b&&(null!=e||null!=b))if(null==e)c(a,b,0,b.length,d,g,void 0);else if(null==b)t(e,0,e.length,
b);else{if(e.length===b.length){for(var p=!1,n=0;n<b.length;n++)if(null!=b[n]&&null!=e[n]){p=null==b[n].key&&null==e[n].key;break}if(p){for(n=0;n<e.length;n++)e[n]!==b[n]&&(null==e[n]&&null!=b[n]?q(a,f(b[n],d,l),m(e,n+1,g)):null==b[n]?t(e,n,n+1,b):k(a,e[n],b[n],d,m(e,n+1,g),!1,l));return}}a:{if(null!=e.pool&&Math.abs(e.pool.length-b.length)<=Math.abs(e.length-b.length)&&(p=b[0]&&b[0].children&&b[0].children.length||0,Math.abs((e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0)-p)<=Math.abs((e[0]&&
e[0].children&&e[0].children.length||0)-p))){p=!0;break a}p=!1}p&&(e=e.concat(e.pool));for(var B=n=0,x=e.length-1,w=b.length-1,D;x>=n&&w>=B;){var v=e[n],r=b[B];if(v!==r||p)if(null==v)n++;else if(null==r)B++;else if(v.key===r.key)n++,B++,k(a,v,r,d,m(e,n,g),p,l),p&&v.tag===r.tag&&q(a,h(v),g);else if(v=e[x],v!==r||p)if(null==v)x--;else if(null==r)B++;else if(v.key===r.key)k(a,v,r,d,m(e,x+1,g),p,l),(p||B<w)&&q(a,h(v),m(e,n,g)),x--,B++;else break;else x--,B++;else n++,B++}for(;x>=n&&w>=B;){v=e[x];r=b[w];
if(v!==r||p)if(null==v)x--;else{if(null!=r)if(v.key===r.key)k(a,v,r,d,m(e,x+1,g),p,l),p&&v.tag===r.tag&&q(a,h(v),g),null!=v.dom&&(g=v.dom),x--;else{if(!D){D=e;var v=x,y={},G;for(G=0;G<v;G++){var u=D[G];null!=u&&(u=u.key,null!=u&&(y[u]=G))}D=y}null!=r&&(v=D[r.key],null!=v?(y=e[v],k(a,y,r,d,m(e,x+1,g),p,l),q(a,h(y),g),e[v].skip=!0,null!=y.dom&&(g=y.dom)):(r=f(r,d,void 0),q(a,r,g),g=r))}w--}else x--,w--;if(w<B)break}c(a,b,B,w+1,d,g,l);t(e,n,x+1,b)}}function k(a,e,b,c,r,x,m){var p=e.tag;if(p===b.tag){b.state=
e.state;b.events=e.events;var n;var B;null!=b.attrs&&"function"===typeof b.attrs.onbeforeupdate&&(n=b.attrs.onbeforeupdate.call(b.state,b,e));"string"!==typeof b.tag&&"function"===typeof b.tag.onbeforeupdate&&(B=b.tag.onbeforeupdate.call(b.state,b,e));void 0===n&&void 0===B||n||B?n=!1:(b.dom=e.dom,b.domSize=e.domSize,b.instance=e.instance,n=!0);if(!n)if(null!=b.attrs&&C(b.attrs,b,c,x),"string"===typeof p)switch(p){case "#":e.children.toString()!==b.children.toString()&&(e.dom.nodeValue=b.children);
b.dom=e.dom;break;case "<":e.children!==b.children?(h(e),q(a,d(b),r)):(b.dom=e.dom,b.domSize=e.domSize);break;case "[":g(a,e.children,b.children,c,r,m);e=0;c=b.children;b.dom=null;if(null!=c){for(var t=0;t<c.length;t++)a=c[t],null!=a&&null!=a.dom&&(null==b.dom&&(b.dom=a.dom),e+=a.domSize||1);1!==e&&(b.domSize=e)}break;default:a=m;r=b.dom=e.dom;switch(b.tag){case "svg":a="http://www.w3.org/2000/svg";break;case "math":a="http://www.w3.org/1998/Math/MathML"}"textarea"===b.tag&&(null==b.attrs&&(b.attrs=
{}),null!=b.text&&(b.attrs.value=b.text,b.text=void 0));x=e.attrs;m=b.attrs;p=a;if(null!=m)for(t in m)w(b,t,x&&x[t],m[t],p);if(null!=x)for(t in x)null!=m&&t in m||("className"===t&&(t="class"),"o"!==t[0]||"n"!==t[1]||W(t)?"key"!==t&&b.dom.removeAttribute(t):A(b,t,void 0));null!=b.attrs&&null!=b.attrs.contenteditable?l(b):null!=e.text&&null!=b.text&&""!==b.text?e.text.toString()!==b.text.toString()&&(e.dom.firstChild.nodeValue=b.text):(null!=e.text&&(e.children=[u("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),
null!=b.text&&(b.children=[u("#",void 0,void 0,b.text,void 0,void 0)]),g(r,e.children,b.children,c,null,a))}else b.instance=u.normalize(b.tag.view.call(b.state,b)),C(b.tag,b,c,x),null!=b.instance?(null==e.instance?q(a,f(b.instance,c,m),r):k(a,e.instance,b.instance,c,r,x,m),b.dom=b.instance.dom,b.domSize=b.instance.domSize):null!=e.instance?(D(e.instance,null),b.dom=void 0,b.domSize=0):(b.dom=e.dom,b.domSize=e.domSize)}else D(e,null),q(a,f(b,c,m),r)}function h(a){var b=a.domSize;if(null!=b||null==
a.dom){var c=y.createDocumentFragment();if(0<b){for(a=a.dom;--b;)c.appendChild(a.nextSibling);c.insertBefore(a,c.firstChild)}return c}return a.dom}function m(a,b,c){for(;b<a.length;b++)if(null!=a[b]&&null!=a[b].dom)return a[b].dom;return c}function q(a,b,c){c&&c.parentNode?a.insertBefore(b,c):a.appendChild(b)}function l(a){var b=a.children;if(null!=b&&1===b.length&&"<"===b[0].tag)b=b[0].children,a.dom.innerHTML!==b&&(a.dom.innerHTML=b);else if(null!=a.text||null!=b&&0!==b.length)throw Error("Child node of a contenteditable must be trusted");
}function t(a,b,c,d){for(;b<c;b++){var e=a[b];null!=e&&(e.skip?e.skip=!1:D(e,d))}}function b(a){var b=!1;return function(){b||(b=!0,a())}}function D(a,c){function e(){if(++p===d&&(r(a),a.dom)){var b=a.domSize||1;if(1<b)for(var e=a.dom;--b;){var f=e.nextSibling,g=f.parentNode;null!=g&&g.removeChild(f)}b=a.dom;e=b.parentNode;null!=e&&e.removeChild(b);if(b=null!=c&&null==a.domSize)b=a.attrs,b=!(null!=b&&(b.oncreate||b.onupdate||b.onbeforeremove||b.onremove));b&&"string"===typeof a.tag&&(c.pool?c.pool.push(a):
c.pool=[a])}}var d=1,p=0;a.attrs&&a.attrs.onbeforeremove&&(d++,a.attrs.onbeforeremove.call(a.state,a,b(e)));"string"!==typeof a.tag&&a.tag.onbeforeremove&&(d++,a.tag.onbeforeremove.call(a.state,a,b(e)));e()}function r(a){a.attrs&&a.attrs.onremove&&a.attrs.onremove.call(a.state,a);"string"!==typeof a.tag&&a.tag.onremove&&a.tag.onremove.call(a.state,a);if(null!=a.instance)r(a.instance);else if(a=a.children,a instanceof Array)for(var b=0;b<a.length;b++){var c=a[b];null!=c&&r(c)}}function w(a,b,c,d,f){var e=
a.dom;if("key"!==b&&"is"!==b&&(c!==d||"value"===b||"checked"===b||"selectedIndex"===b||"selected"===b&&a.dom===y.activeElement||"object"===typeof d)&&"undefined"!==typeof d&&!W(b)){var g=b.indexOf(":");if(-1<g&&"xlink"===b.substr(0,g))e.setAttributeNS("http://www.w3.org/1999/xlink",b.slice(g+1),d);else if("o"===b[0]&&"n"===b[1]&&"function"===typeof d)A(a,b,d);else if("style"===b)if(a=c,a===d&&(e.style.cssText="",a=null),null==d)e.style.cssText="";else if("string"===typeof d)e.style.cssText=d;else{"string"===
typeof a&&(e.style.cssText="");for(var p in d)e.style[p]=d[p];if(null!=a&&"string"!==typeof a)for(p in a)p in d||(e.style[p]="")}else b in e&&"href"!==b&&"list"!==b&&"form"!==b&&"width"!==b&&"height"!==b&&void 0===f&&!(a.attrs.is||-1<a.tag.indexOf("-"))?"input"===a.tag&&"value"===b&&a.dom.value===d&&a.dom===y.activeElement||"select"===a.tag&&"value"===b&&a.dom.value===d&&a.dom===y.activeElement||"option"===a.tag&&"value"===b&&a.dom.value===d||(e[b]=d):"boolean"===typeof d?d?e.setAttribute(b,""):e.removeAttribute(b):
e.setAttribute("className"===b?"class":b,d)}}function W(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===a||"onbeforeremove"===a||"onbeforeupdate"===a}function A(a,b,c){var e=a.dom,d="function"!==typeof F?c:function(a){var b=c.call(e,a);F.call(e,a);return b};if(b in e)e[b]="function"===typeof c?d:null;else{var g=b.slice(2);void 0===a.events&&(a.events={});a.events[b]!==d&&(null!=a.events[b]&&e.removeEventListener(g,a.events[b],!1),"function"===typeof c&&(a.events[b]=d,e.addEventListener(g,
a.events[b],!1)))}}function z(a,b,c){"function"===typeof a.oninit&&a.oninit.call(b.state,b);"function"===typeof a.oncreate&&c.push(a.oncreate.bind(b.state,b))}function C(a,b,c,d){d?z(a,b,c):"function"===typeof a.onupdate&&c.push(a.onupdate.bind(b.state,b))}function ka(a,b){Object.keys(b).forEach(function(c){a[c]=b[c]})}var y=a.document,E=y.createDocumentFragment(),F;return{render:function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=
[],d=y.activeElement;null==a.vnodes&&(a.textContent="");b instanceof Array||(b=[b]);g(a,a.vnodes,u.normalizeChildren(b),c,null,void 0);a.vnodes=b;for(var e=0;e<c.length;e++)c[e]();y.activeElement!==d&&d.focus()},setEventCallback:function(a){return F=a}}},L=function(a){function c(a){a=d.indexOf(a);-1<a&&d.splice(a,2)}function f(){for(var a=1;a<d.length;a+=2)d[a]()}a=X(a);a.setEventCallback(function(a){!1!==a.redraw&&f()});var d=[];return{subscribe:function(a,f){c(a);d.push(a,Z(f))},unsubscribe:c,redraw:f,
render:a.render}}(window);N.setCompletionCallback(L.redraw);A.mount=function(a){return function(c,f){if(null===f)a.render(c,[]),a.unsubscribe(c);else{if(null==f.view)throw Error("m.mount(element, component) expects a component, not a vnode");a.subscribe(c,function(){a.render(c,u(f))});a.redraw()}}}(L);var ba=0,E={};C["fantasy-land/of"]=C;C.merge=function(a){return H(function(){return a.map(function(a){return a()})},a)};C.combine=H;C.HALT=E;A.prop=C;var I=J,O=function(a){if(""===a||null==a)return{};
"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var c={},f={},d=0;d<a.length;d++){var g=a[d].split("="),k=decodeURIComponent(g[0]),g=2===g.length?decodeURIComponent(g[1]):"";"true"===g?g=!0:"false"===g&&(g=!1);var h=k.split(/\]\[?|\[/),m=c;-1<k.indexOf("[")&&h.pop();for(var q=0;q<h.length;q++){var k=h[q],l=h[q+1],l=""==l||!isNaN(parseInt(l,10)),t=q===h.length-1;""===k&&(k=h.slice(0,q).join(),null==f[k]&&(f[k]=0),k=f[k]++);null==m[k]&&(m[k]=t?g:l?[]:{});m=m[k]}}return c},la=function(a){function c(c){var d=
a.location[c].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===c&&"/"!==d[0]&&(d="/"+d);return d}function f(a){return function(){null==h&&(h=k(function(){h=null;a()}))}}function d(a,c,d){var b=a.indexOf("?"),f=a.indexOf("#"),g=-1<b?b:-1<f?f:a.length;if(-1<b){var b=O(a.slice(b+1,-1<f?f:a.length)),h;for(h in b)c[h]=b[h]}if(-1<f)for(h in c=O(a.slice(f+1)),c)d[h]=c[h];return a.slice(0,g)}var g="function"===typeof a.history.pushState,k="function"===typeof setImmediate?setImmediate:setTimeout,
h,m={prefix:"#!",getPath:function(){switch(m.prefix.charAt(0)){case "#":return c("hash").slice(m.prefix.length);case "?":return c("search").slice(m.prefix.length)+c("hash");default:return c("pathname").slice(m.prefix.length)+c("search")+c("hash")}},setPath:function(c,f,h){var b={},k={};c=d(c,b,k);if(null!=f){for(var r in f)b[r]=f[r];c=c.replace(/:([^\/]+)/g,function(a,c){delete b[c];return f[c]})}(r=K(b))&&(c+="?"+r);(k=K(k))&&(c+="#"+k);g?(k=h?h.state:null,r=h?h.title:null,a.onpopstate(),h&&h.replace?
a.history.replaceState(k,r,m.prefix+c):a.history.pushState(k,r,m.prefix+c)):a.location.href=m.prefix+c},defineRoutes:function(c,h,k){function b(){var b=m.getPath(),f={},g=d(b,f,f),l=a.history.state;if(null!=l)for(var t in l)f[t]=l[t];for(var q in c)if(l=new RegExp("^"+q.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),l.test(g)){g.replace(l,function(){for(var a=q.match(/:[^\/]+/g)||[],d=[].slice.call(arguments,1,-2),g=0;g<a.length;g++)f[a[g].replace(/:|\./g,"")]=decodeURIComponent(d[g]);
h(c[q],f,b,q)});return}k(b,f)}g?a.onpopstate=f(b):"#"===m.prefix.charAt(0)&&(a.onhashchange=b);b()}};return m};A.route=function(a,c){var f=la(a),d=function(a){return a},g,k,h,m,q,l=function(a,b,l){if(null==a)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");var r=function(){null!=g&&c.render(a,g(u(k,h.key,h)))},t=function(){f.setPath(b)};f.defineRoutes(l,function(a,b,c){var f=q=function(a,l){f===q&&(k=null!=l&&"function"===typeof l.view?l:"div",h=b,m=c,q=null,g=(a.render||
d).bind(a),r())};a.view?f({},a):a.onmatch?I.resolve(a.onmatch(b,c)).then(function(b){f(a,b)},t):f(a,"div")},t);c.subscribe(a,r)};l.set=function(a,b,c){null!=q&&(c={replace:!0});q=null;f.setPath(a,b,c)};l.get=function(){return m};l.prefix=function(a){f.prefix=a};l.link=function(a){a.dom.setAttribute("href",f.prefix+a.attrs.href);a.dom.onclick=function(a){a.ctrlKey||a.metaKey||a.shiftKey||2===a.which||(a.preventDefault(),a.redraw=!1,a=this.getAttribute("href"),0===a.indexOf(f.prefix)&&(a=a.slice(f.prefix.length)),
l.set(a,void 0,void 0))}};return l}(window,L);A.withAttr=function(a,c,f){return function(d){return c.call(f||this,a in d.currentTarget?d.currentTarget[a]:d.currentTarget.getAttribute(a))}};J=X(window);A.render=J.render;A.redraw=L.redraw;A.request=N.request;A.jsonp=N.jsonp;A.parseQueryString=O;A.buildQueryString=K;A.version="1.0.0-rc.6";A.vnode=u;"undefined"!==typeof module?module.exports=A:window.m=A};